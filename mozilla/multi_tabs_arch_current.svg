<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="985px" preserveAspectRatio="none" style="width:1447px;height:985px;" version="1.1" viewBox="0 0 1447 985" width="1447px" zoomAndPan="magnify"><defs><filter height="300%" id="f1jcb0nluqo4jp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="228" x="613.5" y="17.4023">Multiple Tabs Architecture</text><!--entity TabsModelContentProvider--><path d="M458,893.1992 C458,883.1992 561.5,883.1992 561.5,883.1992 C561.5,883.1992 665,883.1992 665,893.1992 L665,918.6875 C665,928.6875 561.5,928.6875 561.5,928.6875 C561.5,928.6875 458,928.6875 458,918.6875 L458,893.1992 " fill="#FFFFFF" filter="url(#f1jcb0nluqo4jp)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M458,893.1992 C458,903.1992 561.5,903.1992 561.5,903.1992 C561.5,903.1992 665,903.1992 665,893.1992 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="187" x="468" y="920.7344">TabsModelContentProvider</text><!--entity ##34--><!--class TabModel--><rect fill="#FEFECE" filter="url(#f1jcb0nluqo4jp)" height="125.7305" id="TabModel" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="769" y="842.6992"/><ellipse cx="790.75" cy="858.6992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M793.7231,864.3423 Q793.1421,864.6411 792.5029,864.7905 Q791.8638,864.9399 791.1582,864.9399 Q788.6514,864.9399 787.3315,863.2881 Q786.0117,861.6362 786.0117,858.5151 Q786.0117,855.3857 787.3315,853.7339 Q788.6514,852.082 791.1582,852.082 Q791.8638,852.082 792.5112,852.2314 Q793.1587,852.3809 793.7231,852.6797 L793.7231,855.4023 Q793.0923,854.8213 792.4988,854.5515 Q791.9053,854.2817 791.2744,854.2817 Q789.9297,854.2817 789.2449,855.3484 Q788.5601,856.415 788.5601,858.5151 Q788.5601,860.6069 789.2449,861.6736 Q789.9297,862.7402 791.2744,862.7402 Q791.9053,862.7402 792.4988,862.4705 Q793.0923,862.2007 793.7231,861.6196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="58" x="806.25" y="863.2344">TabModel</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="770" x2="873" y1="874.6992" y2="874.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="775" y="889.334">String id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="775" y="902.2891">String title</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="775" y="915.2441">String url</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="775" y="928.1992">Bitmap favicon</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="775" y="941.1543">Bitmap thumbnail</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="775" y="954.1094">Bundle history</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="770" x2="873" y1="960.4297" y2="960.4297"/><!--class TabView--><rect fill="#FEFECE" filter="url(#f1jcb0nluqo4jp)" height="138.6855" id="TabView" style="stroke: #A80036; stroke-width: 1.5;" width="244" x="909.5" y="836.1992"/><ellipse cx="1002.25" cy="852.1992" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M998.1777,847.9644 L998.1777,845.8062 L1005.5571,845.8062 L1005.5571,847.9644 L1003.0918,847.9644 L1003.0918,856.041 L1005.5571,856.041 L1005.5571,858.1992 L998.1777,858.1992 L998.1777,856.041 L1000.6431,856.041 L1000.6431,847.9644 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="50" x="1022.75" y="856.7344">TabView</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="910.5" x2="1152.5" y1="868.1992" y2="868.1992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="910.5" x2="1152.5" y1="876.1992" y2="876.1992"/><ellipse cx="920.5" cy="888.1768" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="929.5" y="890.834">View getView()</text><ellipse cx="920.5" cy="901.1318" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="929.5" y="903.7891">void setViewClient(TabViewClient)</text><ellipse cx="920.5" cy="914.0869" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="929.5" y="916.7441">void setChromeClient(TabChromeClient)</text><ellipse cx="920.5" cy="927.042" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="929.5" y="929.6992">void reload()</text><ellipse cx="920.5" cy="939.9971" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="929.5" y="942.6543">void loadUrl(String)</text><ellipse cx="920.5" cy="952.9521" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="929.5" y="955.6094">boolean canGoBack()</text><ellipse cx="920.5" cy="965.9072" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="929.5" y="968.5645">boolean canGoForward()</text><!--class TabsSession--><rect fill="#FEFECE" filter="url(#f1jcb0nluqo4jp)" height="285.1914" id="TabsSession" style="stroke: #A80036; stroke-width: 1.5;" width="304" x="722.5" y="228.1992"/><ellipse cx="834.75" cy="244.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M837.7231,249.8423 Q837.1421,250.1411 836.5029,250.2905 Q835.8638,250.4399 835.1582,250.4399 Q832.6514,250.4399 831.3315,248.7881 Q830.0117,247.1362 830.0117,244.0151 Q830.0117,240.8857 831.3315,239.2339 Q832.6514,237.582 835.1582,237.582 Q835.8638,237.582 836.5112,237.7314 Q837.1587,237.8809 837.7231,238.1797 L837.7231,240.9023 Q837.0923,240.3213 836.4988,240.0515 Q835.9053,239.7817 835.2744,239.7817 Q833.9297,239.7817 833.2449,240.8484 Q832.5601,241.915 832.5601,244.0151 Q832.5601,246.1069 833.2449,247.1736 Q833.9297,248.2402 835.2744,248.2402 Q835.9053,248.2402 836.4988,247.9705 Q837.0923,247.7007 837.7231,247.1196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="855.25" y="248.7344">TabsSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="723.5" x2="1025.5" y1="260.1992" y2="260.1992"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="730.5" y="269.1768"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="742.5" y="274.834">String sessionId</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="730.5" y="282.1318"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="742.5" y="287.7891">TabViewProvider provider</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="730.5" y="295.0869"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="742.5" y="300.7441">List&lt;Tab&gt; tabs</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="730.5" y="308.042"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="742.5" y="313.6992">List&lt;TabsViewListener&gt; tabsViewListeners</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="730.5" y="320.9971"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="267" x="742.5" y="326.6543">List&lt;TabsChromeListener&gt; tabsChromeListeners</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="730.5" y="333.9521"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="742.5" y="339.6094">DownloadCallback</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="723.5" x2="1025.5" y1="345.9297" y2="345.9297"/><ellipse cx="733.5" cy="357.9072" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="742.5" y="360.5645">void destroy() // session over</text><ellipse cx="733.5" cy="370.8623" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="742.5" y="373.5195">void restoreTabs(List&lt;TabModel&gt; models)</text><ellipse cx="733.5" cy="383.8174" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="267" x="742.5" y="386.4746">List&lt;TabModel&gt; getTabModelListForPersistence()</text><ellipse cx="733.5" cy="396.7725" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="240" x="742.5" y="399.4297">void addTabsViewListener(TabsViewListener)</text><ellipse cx="733.5" cy="409.7275" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="278" x="742.5" y="412.3848">void addTabsChromeListener(TabsChromeListener)</text><ellipse cx="733.5" cy="422.6826" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="742.5" y="425.3398">int getTabsCount()</text><ellipse cx="733.5" cy="435.6377" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="742.5" y="438.2949">Tab getFocusTab()</text><ellipse cx="733.5" cy="465.5479" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="742.5" y="468.2051">void addTab(String url, Bundle data)</text><ellipse cx="733.5" cy="478.5029" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="742.5" y="481.1602">void switchToTab(String id)</text><ellipse cx="733.5" cy="491.458" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="742.5" y="494.1152">void closeTab(String id)</text><ellipse cx="733.5" cy="504.4131" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="742.5" y="507.0703">void dropTab(String id)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="723.5" x2="849" y1="451.0928" y2="451.0928"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="849" y="454.75">Injectable</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="900" x2="1025.5" y1="451.0928" y2="451.0928"/><!--class TabsChromeListener--><rect fill="#FEFECE" filter="url(#f1jcb0nluqo4jp)" height="138.6855" id="TabsChromeListener" style="stroke: #A80036; stroke-width: 1.5;" width="262" x="200.5" y="29.1992"/><ellipse cx="267.75" cy="45.1992" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M263.6777,40.9644 L263.6777,38.8062 L271.0571,38.8062 L271.0571,40.9644 L268.5918,40.9644 L268.5918,49.041 L271.0571,49.041 L271.0571,51.1992 L263.6777,51.1992 L263.6777,49.041 L266.1431,49.041 L266.1431,40.9644 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="119" x="288.25" y="49.7344">TabsChromeListener</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="201.5" x2="461.5" y1="61.1992" y2="61.1992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="201.5" x2="461.5" y1="69.1992" y2="69.1992"/><ellipse cx="211.5" cy="81.1768" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="203" x="220.5" y="83.834">void onFocusChanged(Tab, int factor)</text><ellipse cx="211.5" cy="94.1318" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="191" x="220.5" y="96.7891">void onTabAdded(Tab, Bundle data)</text><ellipse cx="211.5" cy="107.0869" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="220.5" y="109.7441">void onTabCountChanged(int)</text><ellipse cx="211.5" cy="120.042" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="220.5" y="122.6992">void onProgressChanged(Tab, int)</text><ellipse cx="211.5" cy="132.9971" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="151" x="220.5" y="135.6543">void onEnterFullScreen(Tab)</text><ellipse cx="211.5" cy="145.9521" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="236" x="220.5" y="148.6094">void onProgressChanged(Tab, int progress)</text><ellipse cx="211.5" cy="158.9072" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="199" x="220.5" y="161.5645">void onReceivedTitle(Tab, String title)</text><!--class TabsViewListener--><rect fill="#FEFECE" filter="url(#f1jcb0nluqo4jp)" height="86.8652" id="TabsViewListener" style="stroke: #A80036; stroke-width: 1.5;" width="159" x="6" y="55.1992"/><ellipse cx="32.7" cy="71.1992" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M28.6277,66.9644 L28.6277,64.8062 L36.0071,64.8062 L36.0071,66.9644 L33.5418,66.9644 L33.5418,75.041 L36.0071,75.041 L36.0071,77.1992 L28.6277,77.1992 L28.6277,75.041 L31.0931,75.041 L31.0931,66.9644 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="101" x="49.3" y="75.7344">TabsViewListener</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="164" y1="87.1992" y2="87.1992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="164" y1="95.1992" y2="95.1992"/><ellipse cx="17" cy="107.1768" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="126" x="26" y="109.834">void onTabStarted(Tab)</text><ellipse cx="17" cy="120.1318" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="26" y="122.7891">void onTabFinished(Tab)</text><ellipse cx="17" cy="133.0869" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="26" y="135.7441">void onUrlChanged(Tab)</text><!--class TabViewClient--><rect fill="#FEFECE" filter="url(#f1jcb0nluqo4jp)" height="73.9102" id="TabViewClient" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="1276.5" y="333.6992"/><ellipse cx="1312.2" cy="349.6992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1315.1731,355.3423 Q1314.5921,355.6411 1313.9529,355.7905 Q1313.3138,355.9399 1312.6082,355.9399 Q1310.1014,355.9399 1308.7815,354.2881 Q1307.4617,352.6362 1307.4617,349.5151 Q1307.4617,346.3857 1308.7815,344.7339 Q1310.1014,343.082 1312.6082,343.082 Q1313.3138,343.082 1313.9612,343.2314 Q1314.6087,343.3809 1315.1731,343.6797 L1315.1731,346.4023 Q1314.5423,345.8213 1313.9488,345.5515 Q1313.3553,345.2817 1312.7244,345.2817 Q1311.3797,345.2817 1310.6949,346.3484 Q1310.0101,347.415 1310.0101,349.5151 Q1310.0101,351.6069 1310.6949,352.6736 Q1311.3797,353.7402 1312.7244,353.7402 Q1313.3553,353.7402 1313.9488,353.4705 Q1314.5423,353.2007 1315.1731,352.6196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="82" x="1330.8" y="354.2344">TabViewClient</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1277.5" x2="1435.5" y1="365.6992" y2="365.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="1282.5" y="380.334">// similiar to WebViewClient</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="1282.5" y="393.2891">// callback for TabView</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1277.5" x2="1435.5" y1="399.6094" y2="399.6094"/><!--class TabChromeClient--><rect fill="#FEFECE" filter="url(#f1jcb0nluqo4jp)" height="73.9102" id="TabChromeClient" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="1062" y="333.6992"/><ellipse cx="1098.15" cy="349.6992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1101.1231,355.3423 Q1100.5421,355.6411 1099.9029,355.7905 Q1099.2638,355.9399 1098.5582,355.9399 Q1096.0514,355.9399 1094.7315,354.2881 Q1093.4117,352.6362 1093.4117,349.5151 Q1093.4117,346.3857 1094.7315,344.7339 Q1096.0514,343.082 1098.5582,343.082 Q1099.2638,343.082 1099.9112,343.2314 Q1100.5587,343.3809 1101.1231,343.6797 L1101.1231,346.4023 Q1100.4923,345.8213 1099.8988,345.5515 Q1099.3053,345.2817 1098.6744,345.2817 Q1097.3297,345.2817 1096.6449,346.3484 Q1095.9601,347.415 1095.9601,349.5151 Q1095.9601,351.6069 1096.6449,352.6736 Q1097.3297,353.7402 1098.6744,353.7402 Q1099.3053,353.7402 1099.8988,353.4705 Q1100.4923,353.2007 1101.1231,352.6196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="1116.85" y="354.2344">TabChromeClient</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1063" x2="1240" y1="365.6992" y2="365.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="167" x="1068" y="380.334">// similiar to WebChromeClient</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="1068" y="393.2891">// callback for TabView</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1063" x2="1240" y1="399.6094" y2="399.6094"/><!--class Tab--><rect fill="#FEFECE" filter="url(#f1jcb0nluqo4jp)" height="203.4609" id="Tab" style="stroke: #A80036; stroke-width: 1.5;" width="296" x="742.5" y="573.1992"/><ellipse cx="874.75" cy="589.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M877.7231,594.8423 Q877.1421,595.1411 876.5029,595.2905 Q875.8638,595.4399 875.1582,595.4399 Q872.6514,595.4399 871.3315,593.7881 Q870.0117,592.1362 870.0117,589.0151 Q870.0117,585.8857 871.3315,584.2339 Q872.6514,582.582 875.1582,582.582 Q875.8638,582.582 876.5112,582.7314 Q877.1587,582.8809 877.7231,583.1797 L877.7231,585.9023 Q877.0923,585.3213 876.4988,585.0515 Q875.9053,584.7817 875.2744,584.7817 Q873.9297,584.7817 873.2449,585.8484 Q872.5601,586.915 872.5601,589.0151 Q872.5601,591.1069 873.2449,592.1736 Q873.9297,593.2402 875.2744,593.2402 Q875.9053,593.2402 876.4988,592.9705 Q877.0923,592.7007 877.7231,592.1196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="23" x="895.25" y="593.7344">Tab</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="743.5" x2="1037.5" y1="605.1992" y2="605.1992"/><ellipse cx="753.5" cy="617.1768" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="762.5" y="619.834">TabView view</text><ellipse cx="753.5" cy="630.1318" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="762.5" y="632.7891">TabModel model</text><ellipse cx="753.5" cy="643.0869" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="762.5" y="645.7441">TabViewClient tabViewClient</text><ellipse cx="753.5" cy="656.042" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="762.5" y="658.6992">TabChromeClient tabChromeClient</text><ellipse cx="753.5" cy="668.9971" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="762.5" y="671.6543">DownloadCallback downloadCallback</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="743.5" x2="1037.5" y1="677.9746" y2="677.9746"/><ellipse cx="753.5" cy="689.9521" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="240" x="762.5" y="692.6094">void initializeView(TabViewProvider provider)</text><ellipse cx="753.5" cy="702.9072" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="232" x="762.5" y="705.5645">void setTabViewClient(TabViewClient client)</text><ellipse cx="753.5" cy="715.8623" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="270" x="762.5" y="718.5195">void setTabChromeClient(TabChromeClient client)</text><ellipse cx="753.5" cy="728.8174" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="762.5" y="731.4746">String getId()</text><ellipse cx="753.5" cy="741.7725" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="762.5" y="744.4297">TabModel getSaveModel()</text><ellipse cx="753.5" cy="754.7275" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="762.5" y="757.3848">TabView getView()</text><ellipse cx="753.5" cy="767.6826" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="762.5" y="770.3398">void loadUrl(String)</text><!--class TabViewProvider--><rect fill="#FEFECE" filter="url(#f1jcb0nluqo4jp)" height="60.9551" id="TabViewProvider" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="809.5" y="68.1992"/><ellipse cx="824.5" cy="84.1992" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M820.4277,79.9644 L820.4277,77.8062 L827.8071,77.8062 L827.8071,79.9644 L825.3418,79.9644 L825.3418,88.041 L827.8071,88.041 L827.8071,90.1992 L820.4277,90.1992 L820.4277,88.041 L822.8931,88.041 L822.8931,79.9644 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="98" x="838.5" y="88.7344">TabViewProvider</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="810.5" x2="938.5" y1="100.1992" y2="100.1992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="810.5" x2="938.5" y1="108.1992" y2="108.1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="815.5" y="122.834">TabView create()</text><!--class TabContentListener--><rect fill="#FEFECE" filter="url(#f1jcb0nluqo4jp)" height="48" id="TabContentListener" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="259.5" y="346.6992"/><ellipse cx="274.5" cy="362.6992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M277.4731,368.3423 Q276.8921,368.6411 276.2529,368.7905 Q275.6138,368.9399 274.9082,368.9399 Q272.4014,368.9399 271.0815,367.2881 Q269.7617,365.6362 269.7617,362.5151 Q269.7617,359.3857 271.0815,357.7339 Q272.4014,356.082 274.9082,356.082 Q275.6138,356.082 276.2612,356.2314 Q276.9087,356.3809 277.4731,356.6797 L277.4731,359.4023 Q276.8423,358.8213 276.2488,358.5515 Q275.6553,358.2817 275.0244,358.2817 Q273.6797,358.2817 272.9949,359.3484 Q272.3101,360.415 272.3101,362.5151 Q272.3101,364.6069 272.9949,365.6736 Q273.6797,366.7402 275.0244,366.7402 Q275.6553,366.7402 276.2488,366.4705 Q276.8423,366.2007 277.4731,365.6196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="112" x="288.5" y="367.2344">TabContentListener</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="260.5" x2="402.5" y1="378.6992" y2="378.6992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="260.5" x2="402.5" y1="386.6992" y2="386.6992"/><!--class BrowserFragment--><rect fill="#FEFECE" filter="url(#f1jcb0nluqo4jp)" height="73.9102" id="BrowserFragment" style="stroke: #A80036; stroke-width: 1.5;" width="161" x="496" y="333.6992"/><ellipse cx="524.05" cy="349.6992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M527.0231,355.3423 Q526.4421,355.6411 525.8029,355.7905 Q525.1638,355.9399 524.4582,355.9399 Q521.9514,355.9399 520.6315,354.2881 Q519.3117,352.6362 519.3117,349.5151 Q519.3117,346.3857 520.6315,344.7339 Q521.9514,343.082 524.4582,343.082 Q525.1638,343.082 525.8112,343.2314 Q526.4587,343.3809 527.0231,343.6797 L527.0231,346.4023 Q526.3923,345.8213 525.7988,345.5515 Q525.2053,345.2817 524.5744,345.2817 Q523.2297,345.2817 522.5449,346.3484 Q521.8601,347.415 521.8601,349.5151 Q521.8601,351.6069 522.5449,352.6736 Q523.2297,353.7402 524.5744,353.7402 Q525.2053,353.7402 525.7988,353.4705 Q526.3923,353.2007 527.0231,352.6196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="540.95" y="354.2344">BrowserFragment</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="497" x2="656" y1="365.6992" y2="365.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="502" y="380.334">TabsSession session</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="502" y="393.2891">TabContentListener listener</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="497" x2="656" y1="399.6094" y2="399.6094"/><!--class DownloadCallback--><rect fill="#FEFECE" filter="url(#f1jcb0nluqo4jp)" height="60.9551" id="DownloadCallback" style="stroke: #A80036; stroke-width: 1.5;" width="257" x="498" y="68.1992"/><ellipse cx="569.25" cy="84.1992" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M565.1777,79.9644 L565.1777,77.8062 L572.5571,77.8062 L572.5571,79.9644 L570.0918,79.9644 L570.0918,88.041 L572.5571,88.041 L572.5571,90.1992 L565.1777,90.1992 L565.1777,88.041 L567.6431,88.041 L567.6431,79.9644 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106" x="589.75" y="88.7344">DownloadCallback</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="499" x2="754" y1="100.1992" y2="100.1992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="499" x2="754" y1="108.1992" y2="108.1992"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="245" x="504" y="122.834">void onDownloadStart(String url, String ua, ...)</text><!--class TabModelStore--><rect fill="#FEFECE" filter="url(#f1jcb0nluqo4jp)" height="73.9102" id="TabModelStore" style="stroke: #A80036; stroke-width: 1.5;" width="292" x="415.5" y="637.6992"/><ellipse cx="513.75" cy="653.6992" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M509.6777,649.4644 L509.6777,647.3062 L517.0571,647.3062 L517.0571,649.4644 L514.5918,649.4644 L514.5918,657.541 L517.0571,657.541 L517.0571,659.6992 L509.6777,659.6992 L509.6777,657.541 L512.1431,657.541 L512.1431,649.4644 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="87" x="534.25" y="658.2344">TabModelStore</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="416.5" x2="706.5" y1="669.6992" y2="669.6992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="416.5" x2="706.5" y1="677.6992" y2="677.6992"/><ellipse cx="426.5" cy="689.6768" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="266" x="435.5" y="692.334">void getSavedTabs(Context, AsyncQueryListener)</text><ellipse cx="426.5" cy="702.6318" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="222" x="435.5" y="705.2891">void saveTabs(Context, List&lt;TabModel&gt;)</text><!--link TabViewProvider to TabsSession--><path d="M874.5,129.3723 C874.5,154.1028 874.5,190.8058 874.5,228.1677 " fill="none" id="TabViewProvider-TabsSession" style="stroke: #A80036; stroke-width: 1.0;"/><!--link TabsSession to TabViewClient--><path d="M1018.4849,220.6536 C1032.3996,211.7635 1046.9611,204.0647 1062,198.1992 C1136.1177,169.2915 1170.8203,160.7306 1241,198.1992 C1294.4132,226.7163 1327.4633,292.0942 1343.8737,333.6719 " fill="none" id="TabsSession-TabViewClient" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1007.4676,228.0265,1014.6787,228.0139,1017.4406,221.3527,1010.2295,221.3653,1007.4676,228.0265" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1006.5205" y="217.3856">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="6" x="1334.9926" y="323.0675">*</text><!--link TabsSession to TabChromeClient--><path d="M1039.7063,370.6992 C1047.029,370.6992 1054.3518,370.6992 1061.6745,370.6992 " fill="none" id="TabsSession-TabChromeClient" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1026.5254,370.6992,1032.5254,374.6992,1038.5254,370.6992,1032.5254,366.6992,1026.5254,370.6992" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1034.5705" y="367.8839">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="6" x="1047.9874" y="367.6631">*</text><!--link TabsSession to Tab--><path d="M882.7016,526.5303 C883.5274,542.2198 884.3503,557.855 885.1351,572.7664 " fill="none" id="TabsSession-Tab" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="882.0081,513.3529,878.3291,519.5549,882.639,525.3363,886.318,519.1343,882.0081,513.3529" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="874.1999" y="534.1361">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="6" x="878.5208" y="562.2928">*</text><!--link Tab to TabModel--><path d="M856.3368,789.0716 C850.8377,807.4817 845.3272,825.93 840.3642,842.5452 " fill="none" id="Tab-TabModel" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="860.1352,776.3553,854.5852,780.9594,856.7006,787.8533,862.2505,783.2492,860.1352,776.3553" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="849.5041" y="797.2752">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="834.0829" y="831.9777">1</text><!--link Tab to TabView--><path d="M959.5171,787.7698 C969.605,804.2967 979.7333,820.89 989.0755,836.1952 " fill="none" id="Tab-TabView" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="952.5498,776.3553,952.2616,783.5607,958.8018,786.598,959.09,779.3927,952.5498,776.3553" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="948.9942" y="797.2752">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="975.9978" y="825.3754">1</text><!--link TabModelStore to TabsModelContentProvider--><path d="M561.5,711.8133 C561.5,760.1494 561.5,843.1646 561.5,883.032 " fill="none" id="TabModelStore-TabsModelContentProvider" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--link BrowserFragment to TabsSession--><path d="M657.1113,370.6992 C678.9068,370.6992 700.7023,370.6992 722.4978,370.6992 " fill="none" id="BrowserFragment-TabsSession" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="664.9114" y="367.5946">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="706.4539" y="367.8839">1</text><!--link TabContentListener to BrowserFragment--><path d="M403.7559,370.6992 C434.4584,370.6992 465.161,370.6992 495.8636,370.6992 " fill="none" id="TabContentListener-BrowserFragment" style="stroke: #A80036; stroke-width: 1.0;"/><!--link BrowserFragment to TabModelStore--><path d="M574.014,421.0826 C571.0051,482.062 566.0098,583.3016 563.3309,637.5939 " fill="none" id="BrowserFragment-TabModelStore" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="574.6607,407.9756,570.3698,413.7712,574.0693,419.961,578.3601,414.1655,574.6607,407.9756" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="565.6571" y="428.2743">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="554.931" y="626.9751">1</text><!--link DownloadCallback to BrowserFragment--><path d="M620.8616,129.3723 C611.6162,179.6669 593.2683,279.4795 583.3111,333.6466 " fill="none" id="DownloadCallback-BrowserFragment" style="stroke: #A80036; stroke-width: 1.0;"/><!--link TabsChromeListener to TabContentListener--><path d="M331.5,188.6136 C331.5,244.0989 331.5,311.1907 331.5,346.4073 " fill="none" id="TabsChromeListener-TabContentListener" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="324.5001,188.3928,331.5,168.3927,338.5001,188.3927,324.5001,188.3928" style="stroke: #A80036; stroke-width: 1.0;"/><!--link TabsViewListener to TabContentListener--><path d="M138.6507,157.4675 C192.0042,216.4599 271.5859,304.4527 309.6658,346.5573 " fill="none" id="TabsViewListener-TabContentListener" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="133.2479,161.9294,125.0242,142.4007,143.6313,152.5386,133.2479,161.9294" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml

title Multiple Tabs Architecture

class TabModel {
    String id
    String title
    String url
    Bitmap favicon
    Bitmap thumbnail
    Bundle history
}

interface TabView {
    +View getView()
    +void setViewClient(TabViewClient)
    +void setChromeClient(TabChromeClient)
    +void reload()
    +void loadUrl(String)
    +boolean canGoBack()
    +boolean canGoForward()
}

class TabsSession {
    -String sessionId
    -TabViewProvider provider
    -List<Tab> tabs
    -List<TabsViewListener> tabsViewListeners
    -List<TabsChromeListener> tabsChromeListeners
    -DownloadCallback
    - -
    +void destroy() // session over
    +void restoreTabs(List<TabModel> models)
    +List<TabModel> getTabModelListForPersistence()
    +void addTabsViewListener(TabsViewListener)
    +void addTabsChromeListener(TabsChromeListener)
    +int getTabsCount()
    +Tab getFocusTab()
    .. Injectable  ..
    +void addTab(String url, Bundle data)
    +void switchToTab(String id)
    +void closeTab(String id)
    +void dropTab(String id)
}

interface TabsChromeListener {
    +void onFocusChanged(Tab, int factor)
    +void onTabAdded(Tab, Bundle data)
    +void onTabCountChanged(int)
    +void onProgressChanged(Tab, int)
    +void onEnterFullScreen(Tab)
    +void onProgressChanged(Tab, int progress)
    +void onReceivedTitle(Tab, String title)
}

interface TabsViewListener {
    +void onTabStarted(Tab)
    +void onTabFinished(Tab)
    +void onUrlChanged(Tab)
}

class TabViewClient {
    // similiar to WebViewClient
    // callback for TabView
}

class TabChromeClient {
    // similiar to WebChromeClient
    // callback for TabView
}


class Tab {
    +TabView view
    +TabModel model
    +TabViewClient tabViewClient
    +TabChromeClient tabChromeClient
    +DownloadCallback downloadCallback
    - -
    +void initializeView(TabViewProvider provider)
    +void setTabViewClient(TabViewClient client)
    +void setTabChromeClient(TabChromeClient client)
    +String getId()
    +TabModel getSaveModel()
    +TabView getView()
    +void loadUrl(String)
}

interface TabViewProvider {
    TabView create()
}

class TabContentListener {
}

class BrowserFragment {
    TabsSession session
    TabContentListener listener
}

Interface DownloadCallback{
    {abstract} void onDownloadStart(String url, String ua, ...)
}

interface TabModelStore {
    +void getSavedTabs(Context, AsyncQueryListener)
    +void saveTabs(Context, List<TabModel>)
}

TabsSession -up- TabViewProvider
TabsSession "1" *-right- "*" TabViewClient
TabsSession "1" *-right- "*" TabChromeClient
TabsSession "1" *-down- "*" Tab

Tab "1" *-down- "1" TabModel
Tab "1" *-down- "1" TabView
TabModelStore .. TabsModelContentProvider

BrowserFragment "1" -right- "1" TabsSession
BrowserFragment -left- TabContentListener
BrowserFragment "1" *-down- "1" TabModelStore
BrowserFragment -up- DownloadCallback

TabContentListener -up-|> TabsChromeListener
TabContentListener -up-|> TabsViewListener

database "TabsModelContentProvider" {
}

together {
    interface TabView
    class TabsSession
    class Tab
    class TabModel
}

@enduml

PlantUML version 1.2017.19(Sun Nov 12 19:46:22 CST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_112-b16
Operating System: Mac OS X
OS Version: 10.11.6
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>